def p(g):
 while 2in(t:=sum(g,[])):
  o=t.index(2);i=o//9;j=o%9
  while-1<i<9>j>-1:u=g[i];i+=0<t[o-9]or-1;u[j]=g[i-i//9][j]=u[(j:=j+(0<t[o-1]or-1))-j//9]=sum({*t})-2
 return g