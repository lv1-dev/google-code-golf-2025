def p(a,_=enumerate):
 l=min(j+(t:=i)*0for i,r in _(a)for j,v in _(r)if(v-5or(x:=i,y:=j)*0)*v)
 for i in-1,1,0:a[x-i][y-1:y+2]=a[t+~i][l:l+3]
 return a